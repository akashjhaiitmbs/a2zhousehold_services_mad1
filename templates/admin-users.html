<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Admin Dashboard</title>
</head>
<body>
    <nav style="width: 100%; background-color:gray">
        <div style="display: flex; justify-content: space-between;">
            <ul style="list-style: none; display: flex; margin: 0; padding: 0;">
                <li style="margin-right: 20px;">
                    <a href="/admin" style=" color: #000; padding: 5px 10px; font-weight: bold;">Home</a>
                </li>
                <li style="margin-right: 20px;">
                    <a href="/admin-users" style=" color: #000; padding: 5px 10px; font-weight: bold;">Users</a>
                </li>
            </ul>
            
            <form action="/logout" method="POST">
                <button type="submit" style="border:1px blue solid; cursor: pointer; font-weight: bold;">Logout</button>
            </form>
        </div>
    </nav>
    <div style="display: flex; flex-direction: column; width: 100%;">
        <div style="display: flex; font-weight: bold; padding: 10px; background-color: #f2f2f2; border-bottom: 1px solid #ccc;">
            <div style="flex: 1;">Name</div>
            <div style="flex: 1;">Username</div>
            <div style="flex: 1;">Role</div>
            <div style="flex: 1;">Action</div>
        </div>

        {% for user in users %}
        <div style="display: flex; padding: 10px; border-bottom: 1px solid #ccc;">
            <div style="flex: 1;">{{ user.name }}</div>
            <div style="flex: 1;">{{ user.username }}</div>
            <div style="flex: 1;">{{ user.role }}</div>
            <div style="flex: 1;">
                <form action="{{ url_for('handle_admin_action', user_id=user.user_id) }}" method="POST">
                    <button type="submit" style="padding: 5px 10px; background-color:black ; color: white; border: none; cursor: pointer;">
                        {{ 'Delete' if user.is_active else 'Accept' }}
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    <div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
